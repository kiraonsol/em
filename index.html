<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EVIL MODEL | AI Trading Platform</title>
    <style>
        /* Previous styles remain the same */
        
        /* Add Matrix canvas styling */
        #matrix-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.5s ease;
            pointer-events: none;
            z-index: 1;
        }

        /* Update video container aspect ratio */
        .video-container {
            position: relative;
            width: 100%;
            aspect-ratio: 1920/1040;
            border-radius: 12px;
            overflow: hidden;
            transform: translateZ(0);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15),
                        0 10px 20px rgba(0, 0, 0, 0.1);
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease-out;
        }

        /* Add relative positioning to features section */
        #features {
            position: relative;
            overflow: hidden;
        }

        /* Add contrast to text over matrix animation */
        #features .container {
            position: relative;
            z-index: 2;
        }

        #features h2,
        #features p,
        #features .module-card {
            position: relative;
            z-index: 2;
            background: rgba(245, 245, 245, 0.9);
            backdrop-filter: blur(5px);
        }

        /* Previous styles remain unchanged... */
    </style>
</head>
<body>
    <!-- Previous canvas and overlay elements -->
    <canvas id="webgl-background"></canvas>
    <div class="section-overlay"></div>
    
    <div class="content">
        <!-- Navigation remains the same -->
        <nav class="navbar">
            <!-- Navigation content remains unchanged -->
        </nav>

        <!-- Hero section with updated video container -->
        <section class="section hero" id="home">
            <div class="container">
                <div class="hero-content">
                    <h1 class="fade-up">EVIL MODEL</h1>
                    <p class="fade-up">Advanced AI-powered market manipulation detection platform. Part of the Evil AI Suite of tools.</p>
                    <a href="#signup" class="cta-button fade-up">Join The Evil Model Bundle</a>
                </div>
                <div class="video-container fade-up">
                    <iframe 
                        src="https://player.vimeo.com/video/1050832157?autoplay=1&loop=1&background=1"
                        width="100%" 
                        height="100%" 
                        allow="autoplay; fullscreen" 
                        style="border: none; position: absolute; top: 0; left: 0;"
                        loading="lazy"
                        frameborder="0"
                    ></iframe>
                </div>
            </div>
        </section>

        <!-- Features section with matrix animation -->
        <section class="section" id="features">
            <canvas id="matrix-canvas"></canvas>
            <div class="container">
                <div class="scale-in">
                    <h2 style="margin-bottom: 2rem;">AI-Powered Analysis</h2>
                    <p style="color: var(--text-secondary); margin-bottom: 3rem;">
                        Our algorithmic platform plots precise manipulation levels through real-time data analysis across indices, FX, and crypto markets. Leveraging advanced AI technology to predict and identify market movements.
                    </p>
                    <div class="module-card fade-up">
                        <h3>Real-time Analysis</h3>
                        <p>Live data collection and processing across multiple markets</p>
                    </div>
                    <div class="module-card fade-up">
                        <h3>Pattern Recognition</h3>
                        <p>Advanced algorithmic detection of manipulation patterns</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Rest of the sections remain unchanged -->
<!-- Continuing from previous sections -->
        <section class="section" id="about">
            <div class="container">
                <!-- About section content remains unchanged -->
            </div>
        </section>

        <section class="section" id="modules">
            <div class="container">
                <!-- Modules section content remains unchanged -->
            </div>
        </section>

        <section class="section" id="signup">
            <div class="container">
                <!-- Signup section content remains unchanged -->
            </div>
        </section>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        // Previous WebGL code remains unchanged
        
        // Matrix Rain Animation
        const matrixCanvas = document.getElementById('matrix-canvas');
        const ctx = matrixCanvas.getContext('2d');
        
        let matrixAnimationActive = false;
        
        // Matrix characters
        const chars = '01';
        const fontSize = 14;
        let columns;
        let drops = [];
        
        function initMatrix() {
            matrixCanvas.width = matrixCanvas.offsetWidth;
            matrixCanvas.height = matrixCanvas.offsetHeight;
            
            columns = Math.floor(matrixCanvas.width / fontSize);
            drops = [];
            
            for(let i = 0; i < columns; i++) {
                drops[i] = 1;
            }
        }
        
        function drawMatrix() {
            if (!matrixAnimationActive) return;
            
            ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
            ctx.fillRect(0, 0, matrixCanvas.width, matrixCanvas.height);
            
            ctx.fillStyle = '#0F0';
            ctx.font = fontSize + 'px monospace';
            
            for(let i = 0; i < drops.length; i++) {
                const text = chars[Math.floor(Math.random() * chars.length)];
                ctx.fillText(text, i * fontSize, drops[i] * fontSize);
                
                if(drops[i] * fontSize > matrixCanvas.height && Math.random() > 0.975) {
                    drops[i] = 0;
                }
                drops[i]++;
            }
            
            requestAnimationFrame(drawMatrix);
        }
        
        // Intersection Observer for Matrix Animation
        const featuresSection = document.getElementById('features');
        const matrixObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    matrixAnimationActive = true;
                    matrixCanvas.style.opacity = '0.15';
                    if (!drops.length) {
                        initMatrix();
                    }
                    drawMatrix();
                } else {
                    matrixAnimationActive = false;
                    matrixCanvas.style.opacity = '0';
                }
            });
        }, {
            threshold: 0.2
        });
        
        matrixObserver.observe(featuresSection);
        
        // Handle resize for matrix canvas
        let matrixResizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(matrixResizeTimeout);
            matrixResizeTimeout = setTimeout(() => {
                initMatrix();
            }, 250);
        });
        
        // Previous animation and observer code remains unchanged
        
        // Initialize matrix on load
        window.addEventListener('load', initMatrix);
        
        // Enhanced scroll behavior for navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
        
        // Performance optimization for animations
        window.addEventListener('scroll', () => {
            requestAnimationFrame(() => {
                const scrolled = window.pageYOffset;
                const maxScroll = document.documentElement.scrollHeight - window.innerHeight;
                const scrollPercent = scrolled / maxScroll;
                
                // Adjust overlay opacity based on scroll
                const overlay = document.querySelector('.section-overlay');
                overlay.style.opacity = Math.min(0.6, scrollPercent);
            });
        }, { passive: true });
    </script>
</body>
</html>
